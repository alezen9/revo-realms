var y={},m={},O;function C(){if(O)return m;O=1,Object.defineProperty(m,"__esModule",{value:!0}),m._fast_remove_single=void 0;function h(a,v){v!==-1&&(v===0?a.shift():v===a.length-1?a.length=a.length-1:a.splice(v,1))}return m._fast_remove_single=h,m}var g={},j;function N(){if(j)return g;j=1,Object.defineProperty(g,"__esModule",{value:!0}),g.nullObj=void 0;function h(){var a={};return a.__proto__=null,a}return g.nullObj=h,g}var w;function R(){if(w)return y;w=1;var h=y.__spreadArray||function(e,t,i){if(i||arguments.length===2)for(var n=0,o=t.length,c;n<o;n++)(c||!(n in t))&&(c||(c=Array.prototype.slice.call(t,0,n)),c[n]=t[n]);return e.concat(c||Array.prototype.slice.call(t))};Object.defineProperty(y,"__esModule",{value:!0}),y.EventEmitter=void 0;var a=C(),v=N();function p(e,t,i,n,o,c){var l=this.events[e];if(l){if(l.length===0)return!1;if(arguments.length<6)for(var r=0,s=l.length;r<s;++r)l[r](t,i,n,o,c);else{for(var f=new Array(arguments.length-1),r=0,s=f.length;r<s;++r)f[r]=arguments[r+1];for(var r=0,s=l.length;r<s;++r)l[r].apply(void 0,f)}return!0}return!1}function E(e,t,i,n,o,c){var l=this.events[e],r;if(l!==void 0){if(l.length===0)return!1;if(arguments.length<6)for(var s=0,f=l.length;s<f;++s)l[s](t,i,n,o,c);else{r=new Array(arguments.length-1);for(var s=0,f=r.length;s<f;++s)r[s]=arguments[s+1];for(var s=0,f=l.length;s<f;++s)l[s].apply(void 0,r)}}var d=this.onceEvents[e];if(d){if(typeof d=="function")if(this.onceEvents[e]=void 0,arguments.length<6)d(t,i,n,o,c);else{if(r===void 0){r=new Array(arguments.length-1);for(var s=0,f=r.length;s<f;++s)r[s]=arguments[s+1]}d.apply(void 0,r)}else{var L=d;if(this.onceEvents[e]=void 0,arguments.length<6)for(var s=0;s<L.length;++s)L[s](t,i,n,o,c);else{if(r===void 0){r=new Array(arguments.length-1);for(var s=0,f=r.length;s<f;++s)r[s]=arguments[s+1]}for(var s=0,f=d.length;s<f;++s)d[s].apply(void 0,r)}}return!0}return l!==void 0}var u=function(){function e(){this.events=(0,v.nullObj)(),this.onceEvents=(0,v.nullObj)(),this._symbolKeys=new Set,this.maxListeners=1/0}return Object.defineProperty(e.prototype,"_eventsCount",{get:function(){return this.eventNames().length},enumerable:!1,configurable:!0}),e}();y.EventEmitter=u;function A(e,t){switch(this.emit===p&&(this.emit=E),typeof this.onceEvents[e]){case"undefined":this.onceEvents[e]=t,typeof e=="symbol"&&this._symbolKeys.add(e);break;case"function":this.onceEvents[e]=[this.onceEvents[e],t];break;case"object":this.onceEvents[e].push(t)}return this}function _(e,t,i){if(typeof t!="function")throw new TypeError("The listener must be a function");var n=this.events[e];return n?(n.push(t),this.maxListeners!==1/0&&this.maxListeners<=n.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" event!'))):(this.events[e]=[t],typeof e=="symbol"&&this._symbolKeys.add(e)),this}function b(e,t){var i=this.events[e];i&&(0,a._fast_remove_single)(i,i.indexOf(t));var n=this.onceEvents[e];return n&&(typeof n=="function"?this.onceEvents[e]=void 0:typeof n=="object"&&(n.length===1&&n[0]===t?this.onceEvents[e]=void 0:(0,a._fast_remove_single)(n,n.lastIndexOf(t)))),this}function M(e,t,i,n){i===void 0&&(i=this),n===void 0&&(n=t.length),this.boundFuncs||(this.boundFuncs=new Map);var o=t.bind(i);return this.boundFuncs.set(t,o),this.addListener(e,o,n)}function K(e,t){var i,n,o=(i=this.boundFuncs)===null||i===void 0?void 0:i.get(t);return(n=this.boundFuncs)===null||n===void 0||n.delete(t),this.removeListener(e,o)}function x(e){return this.events[e]&&!!this.events[e].length}function S(e,t,i){if(typeof t!="function")throw new TypeError("The listener must be a function");var n=this.events[e];return n===void 0?(n=this.events[e]=[t],typeof e=="symbol"&&this._symbolKeys.add(e)):(n.unshift(t),this.maxListeners!==1/0&&this.maxListeners<=n.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" event!'))),this}function k(e,t){this.emit===p&&(this.emit=E);var i=this.onceEvents[e];return i?typeof i!="object"?(this.onceEvents[e]=[t,i],typeof e=="symbol"&&this._symbolKeys.add(e)):(i.unshift(t),this.maxListeners!==1/0&&this.maxListeners<=i.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" once event!'))):(this.onceEvents[e]=[t],typeof e=="symbol"&&this._symbolKeys.add(e)),this}function q(e){return e===void 0?(this.events=(0,v.nullObj)(),this.onceEvents=(0,v.nullObj)(),this._symbolKeys=new Set):(this.events[e]=void 0,this.onceEvents[e]=void 0,typeof e=="symbol"&&this._symbolKeys.delete(e)),this}function F(e){return this.maxListeners=e,this}function I(){return this.maxListeners}function B(e){return this.emit===p?this.events[e]?this.events[e].slice():[]:this.events[e]&&this.onceEvents[e]?h(h([],this.events[e],!0),typeof this.onceEvents[e]=="function"?[this.onceEvents[e]]:this.onceEvents[e].slice(),!0):this.events[e]?this.events[e].slice():this.onceEvents[e]?typeof this.onceEvents[e]=="function"?[this.onceEvents[e]]:this.onceEvents[e].slice():[]}function P(){var e=this;if(this.emit===p){var t=Object.keys(this.events);return h(h([],t,!0),Array.from(this._symbolKeys),!0).filter(function(n){return n in e.events&&e.events[n]&&e.events[n].length})}else{var t=Object.keys(this.events).filter(function(o){return e.events[o]&&e.events[o].length}),i=Object.keys(this.onceEvents).filter(function(o){return e.onceEvents[o]&&e.onceEvents[o].length});return h(h(h([],t,!0),i,!0),Array.from(this._symbolKeys).filter(function(o){return o in e.events&&e.events[o]&&e.events[o].length||o in e.onceEvents&&e.onceEvents[o]&&e.onceEvents[o].length}),!0)}}function U(e){return this.emit===p?this.events[e]&&this.events[e].length||0:(this.events[e]&&this.events[e].length||0)+(this.onceEvents[e]&&this.onceEvents[e].length||0)}return u.prototype.emit=p,u.prototype.on=_,u.prototype.once=A,u.prototype.addListener=_,u.prototype.removeListener=b,u.prototype.addListenerBound=M,u.prototype.removeListenerBound=K,u.prototype.hasListeners=x,u.prototype.prependListener=S,u.prototype.prependOnceListener=k,u.prototype.off=b,u.prototype.removeAllListeners=q,u.prototype.setMaxListeners=F,u.prototype.getMaxListeners=I,u.prototype.listeners=B,u.prototype.eventNames=P,u.prototype.listenerCount=U,y}var $=R();export{$ as e};
